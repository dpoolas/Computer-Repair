<%@ Page Title="" Language="C#" MasterPageFile="~/admin/Admin.Master" AutoEventWireup="true" CodeBehind="manageusers.aspx.cs" Inherits="ComputerRepair.admin.WebForm2" %>
<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server">
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="beforeContainer" runat="server">
</asp:Content>
<asp:Content ID="Content3" ContentPlaceHolderID="mainContent" runat="server">
    <div class="col-sm-12 col-md-14 table-responsive top-buffer">
        <asp:GridView ID="usersTable" runat="server" AutoGenerateColumns="False" DataSourceID="Users" OnSelectedIndexChanged="usersTable_SelectedIndexChanged" AllowPaging="True" AllowSorting="True" CssClass="table table-bordered" AutoGenerateDeleteButton="True" AutoGenerateEditButton="True" DataKeyNames="User_ID">
            <Columns>
                <asp:BoundField DataField="User_ID" HeaderText="User_ID" InsertVisible="False" ReadOnly="True" SortExpression="User_ID" />
                <asp:BoundField DataField="User_Username" HeaderText="User_Username" SortExpression="User_Username" />
                <asp:BoundField DataField="User_Password" HeaderText="User_Password" SortExpression="User_Password" ReadOnly="False" InsertVisible="True" HeaderStyle-BorderStyle="NotSet" />
                <asp:BoundField DataField="User_Email" HeaderText="User_Email" SortExpression="User_Email" />
                <asp:BoundField DataField="User_Admin" HeaderText="User_Admin" SortExpression="User_Admin" />
            </Columns>
        </asp:GridView>
        <asp:ListView ID="ListView1" runat="server" DataKeyNames="User_ID" DataSourceID="Users">
            <AlternatingItemTemplate>
                <li style="">User_ID:
                    <asp:Label ID="User_IDLabel" runat="server" Text='<%# Eval("User_ID") %>' />
                    <br />
                    User_Username:
                    <asp:Label ID="User_UsernameLabel" runat="server" Text='<%# Eval("User_Username") %>' />
                    <br />
                    User_Password:
                    <asp:Label ID="User_PasswordLabel" runat="server" Text='<%# Eval("User_Password") %>' />
                    <br />
                    User_Email:
                    <asp:Label ID="User_EmailLabel" runat="server" Text='<%# Eval("User_Email") %>' />
                    <br />
                    User_Admin:
                    <asp:Label ID="User_AdminLabel" runat="server" Text='<%# Eval("User_Admin") %>' />
                    <br />
                </li>
            </AlternatingItemTemplate>
            <EditItemTemplate>
                <li style="">User_ID:
                    <asp:Label ID="User_IDLabel1" runat="server" Text='<%# Eval("User_ID") %>' />
                    <br />
                    User_Username:
                    <asp:TextBox ID="User_UsernameTextBox" runat="server" Text='<%# Bind("User_Username") %>' />
                    <br />
                    User_Password:
                    <asp:TextBox ID="User_PasswordTextBox" runat="server" Text='<%# Bind("User_Password") %>' />
                    <br />
                    User_Email:
                    <asp:TextBox ID="User_EmailTextBox" runat="server" Text='<%# Bind("User_Email") %>' />
                    <br />
                    User_Admin:
                    <asp:TextBox ID="User_AdminTextBox" runat="server" Text='<%# Bind("User_Admin") %>' />
                    <br />
                    <asp:Button ID="UpdateButton" runat="server" CommandName="Update" Text="Update" />
                    <asp:Button ID="CancelButton" runat="server" CommandName="Cancel" Text="Cancel" />
                </li>
            </EditItemTemplate>
            <EmptyDataTemplate>
                No data was returned.
            </EmptyDataTemplate>
            <InsertItemTemplate>
                <li style="">User_Username:
                    <asp:TextBox ID="User_UsernameTextBox" runat="server" Text='<%# Bind("User_Username") %>' />
                    <br />User_Password:
                    <asp:TextBox ID="User_PasswordTextBox" runat="server" Text='<%# Bind("User_Password") %>' />
                    <br />User_Email:
                    <asp:TextBox ID="User_EmailTextBox" runat="server" Text='<%# Bind("User_Email") %>' />
                    <br />User_Admin:
                    <asp:TextBox ID="User_AdminTextBox" runat="server" Text='<%# Bind("User_Admin") %>' />
                    <br />
                    <asp:Button ID="InsertButton" runat="server" CommandName="Insert" Text="Insert" />
                    <asp:Button ID="CancelButton" runat="server" CommandName="Cancel" Text="Clear" />
                </li>
            </InsertItemTemplate>
            <ItemSeparatorTemplate>
<br />
            </ItemSeparatorTemplate>
            <ItemTemplate>
                <li style="">User_ID:
                    <asp:Label ID="User_IDLabel" runat="server" Text='<%# Eval("User_ID") %>' />
                    <br />
                    User_Username:
                    <asp:Label ID="User_UsernameLabel" runat="server" Text='<%# Eval("User_Username") %>' />
                    <br />
                    User_Password:
                    <asp:Label ID="User_PasswordLabel" runat="server" Text='<%# Eval("User_Password") %>' />
                    <br />
                    User_Email:
                    <asp:Label ID="User_EmailLabel" runat="server" Text='<%# Eval("User_Email") %>' />
                    <br />
                    User_Admin:
                    <asp:Label ID="User_AdminLabel" runat="server" Text='<%# Eval("User_Admin") %>' />
                    <br />
                </li>
            </ItemTemplate>
            <LayoutTemplate>
                <ul id="itemPlaceholderContainer" runat="server" style="">
                    <li runat="server" id="itemPlaceholder" />
                </ul>
                <div style="">
                </div>
            </LayoutTemplate>
            <SelectedItemTemplate>
                <li style="">User_ID:
                    <asp:Label ID="User_IDLabel" runat="server" Text='<%# Eval("User_ID") %>' />
                    <br />
                    User_Username:
                    <asp:Label ID="User_UsernameLabel" runat="server" Text='<%# Eval("User_Username") %>' />
                    <br />
                    User_Password:
                    <asp:Label ID="User_PasswordLabel" runat="server" Text='<%# Eval("User_Password") %>' />
                    <br />
                    User_Email:
                    <asp:Label ID="User_EmailLabel" runat="server" Text='<%# Eval("User_Email") %>' />
                    <br />
                    User_Admin:
                    <asp:Label ID="User_AdminLabel" runat="server" Text='<%# Eval("User_Admin") %>' />
                    <br />
                </li>
            </SelectedItemTemplate>
        </asp:ListView>
        <asp:DetailsView ID="DetailsView1" runat="server" Height="50px" Width="125px" AutoGenerateRows="False" DataKeyNames="User_ID" DataSourceID="Users">
            <Fields>
                <asp:BoundField DataField="User_ID" HeaderText="User_ID" InsertVisible="False" ReadOnly="True" SortExpression="User_ID" />
                <asp:BoundField DataField="User_Username" HeaderText="User_Username" SortExpression="User_Username" />
                <asp:BoundField DataField="User_Password" HeaderText="User_Password" SortExpression="User_Password" />
                <asp:BoundField DataField="User_Email" HeaderText="User_Email" SortExpression="User_Email" />
                <asp:BoundField DataField="User_Admin" HeaderText="User_Admin" SortExpression="User_Admin" />
            </Fields>
        </asp:DetailsView>
        <asp:FormView ID="FormView1" runat="server" DataKeyNames="User_ID" DataSourceID="Users">
            <EditItemTemplate>
                User_ID:
                <asp:Label ID="User_IDLabel1" runat="server" Text='<%# Eval("User_ID") %>' />
                <br />
                User_Username:
                <asp:TextBox ID="User_UsernameTextBox" runat="server" Text='<%# Bind("User_Username") %>' />
                <br />
                User_Password:
                <asp:TextBox ID="User_PasswordTextBox" runat="server" Text='<%# Bind("User_Password") %>' />
                <br />
                User_Email:
                <asp:TextBox ID="User_EmailTextBox" runat="server" Text='<%# Bind("User_Email") %>' />
                <br />
                User_Admin:
                <asp:TextBox ID="User_AdminTextBox" runat="server" Text='<%# Bind("User_Admin") %>' />
                <br />
                <asp:LinkButton ID="UpdateButton" runat="server" CausesValidation="True" CommandName="Update" Text="Update" />
                &nbsp;<asp:LinkButton ID="UpdateCancelButton" runat="server" CausesValidation="False" CommandName="Cancel" Text="Cancel" />
            </EditItemTemplate>
            <InsertItemTemplate>
                User_Username:
                <asp:TextBox ID="User_UsernameTextBox" runat="server" Text='<%# Bind("User_Username") %>' />
                <br />
                User_Password:
                <asp:TextBox ID="User_PasswordTextBox" runat="server" Text='<%# Bind("User_Password") %>' />
                <br />
                User_Email:
                <asp:TextBox ID="User_EmailTextBox" runat="server" Text='<%# Bind("User_Email") %>' />
                <br />
                User_Admin:
                <asp:TextBox ID="User_AdminTextBox" runat="server" Text='<%# Bind("User_Admin") %>' />
                <br />
                <asp:LinkButton ID="InsertButton" runat="server" CausesValidation="True" CommandName="Insert" Text="Insert" />
                &nbsp;<asp:LinkButton ID="InsertCancelButton" runat="server" CausesValidation="False" CommandName="Cancel" Text="Cancel" />
            </InsertItemTemplate>
            <ItemTemplate>
                User_ID:
                <asp:Label ID="User_IDLabel" runat="server" Text='<%# Eval("User_ID") %>' />
                <br />
                User_Username:
                <asp:Label ID="User_UsernameLabel" runat="server" Text='<%# Bind("User_Username") %>' />
                <br />
                User_Password:
                <asp:Label ID="User_PasswordLabel" runat="server" Text='<%# Bind("User_Password") %>' />
                <br />
                User_Email:
                <asp:Label ID="User_EmailLabel" runat="server" Text='<%# Bind("User_Email") %>' />
                <br />
                User_Admin:
                <asp:Label ID="User_AdminLabel" runat="server" Text='<%# Bind("User_Admin") %>' />
                <br />
                <asp:LinkButton ID="EditButton" runat="server" CausesValidation="False" CommandName="Edit" Text="Edit" />
                &nbsp;<asp:LinkButton ID="DeleteButton" runat="server" CausesValidation="False" CommandName="Delete" Text="Delete" />
                &nbsp;<asp:LinkButton ID="NewButton" runat="server" CausesValidation="False" CommandName="New" Text="New" />
            </ItemTemplate>
        </asp:FormView>
    </div>
    <asp:SqlDataSource ID="Users" runat="server" ConnectionString="<%$ ConnectionStrings:ComputerRepairServiceConnectionString %>" SelectCommand="SELECT * FROM [User]" ConflictDetection="CompareAllValues" DeleteCommand="DELETE FROM [User] WHERE [User_ID] = @original_User_ID AND [User_Username] = @original_User_Username AND [User_Password] = @original_User_Password AND [User_Email] = @original_User_Email AND [User_Admin] = @original_User_Admin" InsertCommand="INSERT INTO [User] ([User_Username], [User_Password], [User_Email], [User_Admin]) VALUES (@User_Username, @User_Password, @User_Email, @User_Admin)" OldValuesParameterFormatString="original_{0}" UpdateCommand="UPDATE [User] SET [User_Username] = @User_Username, [User_Password] = @User_Password, [User_Email] = @User_Email, [User_Admin] = @User_Admin WHERE [User_ID] = @original_User_ID AND [User_Username] = @original_User_Username AND [User_Password] = @original_User_Password AND [User_Email] = @original_User_Email AND [User_Admin] = @original_User_Admin">
        <DeleteParameters>
            <asp:Parameter Name="original_User_ID" Type="Int32" />
            <asp:Parameter Name="original_User_Username" Type="String" />
            <asp:Parameter Name="original_User_Password" Type="String" />
            <asp:Parameter Name="original_User_Email" Type="String" />
            <asp:Parameter Name="original_User_Admin" Type="Int32" />
        </DeleteParameters>
        <InsertParameters>
            <asp:Parameter Name="User_Username" Type="String" />
            <asp:Parameter Name="User_Password" Type="String" />
            <asp:Parameter Name="User_Email" Type="String" />
            <asp:Parameter Name="User_Admin" Type="Int32" />
        </InsertParameters>
        <UpdateParameters>
            <asp:Parameter Name="User_Username" Type="String" />
            <asp:Parameter Name="User_Password" Type="String" />
            <asp:Parameter Name="User_Email" Type="String" />
            <asp:Parameter Name="User_Admin" Type="Int32" />
            <asp:Parameter Name="original_User_ID" Type="Int32" />
            <asp:Parameter Name="original_User_Username" Type="String" />
            <asp:Parameter Name="original_User_Password" Type="String" />
            <asp:Parameter Name="original_User_Email" Type="String" />
            <asp:Parameter Name="original_User_Admin" Type="Int32" />
        </UpdateParameters>
    </asp:SqlDataSource>
</asp:Content>
